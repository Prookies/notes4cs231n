> 查看公式请安装插件[GitHub with MathJax](https://chrome.google.com/webstore/detail/github-with-mathjax/ioemnmodlmafdkllaclgeombjnmnbima)


### 结构概述
NN的结构是一系列的层将输入数据变换为输出数据。常规NN隐藏层都为全连接层，构建大网络时效率低下，容易过拟合。而CNN调整结构为卷积层、池化层、全连接层，大趋势是逐渐去掉全连接层，各层中的神经元是3维排列的：宽度、高度和深度。

![CNN概述](image/CNN概述.jpg)

例子：输入层-卷积层-ReLU层-汇聚层-全连接层（醒醒，层是由神经元组成而不是权重，并且应当在神经元的角度往前一层观察）

* 输入层：原始像素值所形成3维数组[32x32x3]，图像宽高均为32，有3个颜色通道。
* 卷积层：神经元通过卷积核与输入层中的一个局部区域相连，卷积核大小为3*3*3，一般情况将深度忽略而称为3*3，padding之后输出数据体的维度就是[32x32x12]。
* ReLU层：逐个元素地进行激活函数操作，该层对数据尺寸没有改变。
* 池化层：在空间维度（宽度和高度）上进行降采样操作，数据尺寸变为[16x16x12]。
* 全连接层：神经元与前一层中所有神经元相连接，神经元数量设为标签数量，数据尺寸变为[1x1x10]。

每个层的输入是3D数据，使用一个可导的激活函数将其变换为3D的输出数据；有的层有参数比如卷积层和全连接层，有的没有比如ReLU层和池化层；有的层有额外的超参数比如卷积层、全连接层和池化层，有的没有比如ReLU层。

### 卷积层
卷积层是构建卷积神经网络的核心层，它产生了网络中大部分的计算量。

卷积核：卷积层的参数是有一些可学习的小卷积核集合构成的，卷积核尺寸为$kernel\_size*kernel\_size*num$（num是前一层的深度），前向传播时每个滤波器都与输入数据在宽高深三个维度做离散卷积运算。

![卷积核](image/卷积核.png)

特征图：又称为激活图，一个卷积核与输入数据卷积会生成一个二维激活图，每个卷积层上有多个卷积核也就多多个激活图，将激活图在深度方向上层叠起来就生成了输出数据。

![激活图](image/激活图.png)
